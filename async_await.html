<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Call_Backs in Javascript</title>
</head>
<body>

    <script>

            // Promises and Promices
            // Promises and Promices 

      


           function regester() {
                return new Promise((resolve , reject) =>{
                    setTimeout(() => {
                    console.log("Regester End...");

                    resolve("SuccessFully Working");
                }, 2000);
            });
         }





                //wel come email.
            function send_welcome_email() {
                return new Promise((resolve , reject) =>{

                    setTimeout(() => {
                        // return reject("Server Error 401");
                        console.log("sending wel come email...");

                        resolve();
                    }, 3000);

                })
                
         
        }

                    //login .
            function login() {

                return new Promise((resolve , reject) =>{
                    setTimeout(() => {
                        console.log("login successful...");

                        resolve();
                    }, 1000);
                })
 
        
        }


                        // User Data 
            function get_User_data() {
                return new Promise((resolve , reject) =>{

                    setTimeout(() => {
                        console.log("got User Data");

                        resolve();
                    }, 3000);
                })
        }


                    // 
            function display_user_data() {
                return new Promise((resolve , reject) =>{

                    setTimeout(() => {
                        console.log("Display UseR Data..."); 

                        resolve();
                    }, 2000); 
                })
            }


            function massage(){

                return new Promise((resolve , reject) =>{

                    setTimeout(() => {
                    console.log("Application are Properly Working...")
                        
                        resolve();
                }, 2000);
                })
                
            }

        //    regester()
        //         .then(send_welcome_email)
        //         .then(login)
        //         .then(get_User_data)
        //         .then(display_user_data)
        //         .then(massage);




        //   Async  // Await
        //   Async  // Await

       async function authonticate() {
          
            try {
                const msg = await regester();
                await send_welcome_email();
                await login();
                await get_User_data();
                await display_user_data();
                await massage();

                console.log(msg);
            }catch(err) {
                console.log(err);
                throw new Error();
            }
        }

        authonticate().then(() =>{
            document.write("Application are started...");
            document.body.style.background = "royalblue";
        }).catch((err)=>{
            console.log(err)
        });

        // authonticate().then(() =>{
        //     document.write("Application are started...");
        //     document.body.style.background = "royalblue";
        // }).catch((err)=>{
        //     console.log(err);
        // });



    </script>
    
</body>
</html>